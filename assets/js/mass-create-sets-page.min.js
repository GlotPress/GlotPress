jQuery(function(r){$gp.notices.init(),r("#project_id").change(function(){var i=r(this),e=r("option:selected",i).attr("value");e?($gp.notices.notice($gp_mass_create_sets_options.loading),i.prop("disabled",!0),r.ajax({type:"POST",url:$gp_mass_create_sets_options.url,data:{project_id:e},dataType:"json",success:function(n){var e=r("#preview"),t="";function s(e,t){var s=n[e],i="";return i+='<li><span class="'+e+'">'+t.replace("{count}",s.length)+"</span>",s.length&&(i+="<ul>",r.each(s,function(){i+="<li>"+$gp.esc_html(this.name)+" ("+this.locale+"/"+this.slug+")</li>"}),i+="</ul>"),i+="</li>"}e.html("<h3>Preview changes:</h3>"),t+="<ul>",i.prop("disabled",!1),$gp.notices.clear(),(n.added.length||n.removed.length)&&r("#submit").prop("disabled",!1),t=(t+=s("added","{count} set(s) will be added"))+s("removed","{count} set(s) will be removed"),e.append(t+="</ul>"),e.fadeIn()},error:function(e,t){i.prop("disabled",!1),t=e.responsehtml?"Error: "+e.responsehtml:"Error saving the translation!",$gp.notices.error(t)}})):(r("#submit").prop("disabled",!0),r("#preview").hide())}),r("#submit").prop("disabled",!0),r("#preview").hide()});