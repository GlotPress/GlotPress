jQuery(function(e){$gp.notices.init(),e("#project_id").change(function(){var t=e(this),s=e("option:selected",t).attr("value");return s?($gp.notices.notice($gp_mass_create_sets_options.loading),t.prop("disabled",!0),void e.ajax({type:"POST",url:$gp_mass_create_sets_options.url,data:{project_id:s},dataType:"json",success:function(s){function i(t,i){var r=s[t],n="";return n+='<li><span class="'+t+'">'+i.replace("{count}",r.length)+"</span>",r.length&&(n+="<ul>",e.each(r,function(){n+="<li>"+$gp.esc_html(this.name)+" ("+this.locale+"/"+this.slug+")</li>"}),n+="</ul>"),n+="</li>"}t.prop("disabled",!1),$gp.notices.clear(),(s.added.length||s.removed.length)&&e("#submit").prop("disabled",!1);var r=e("#preview");r.html("<h3>Preview changes:</h3>");var n="";n+="<ul>",n+=i("added","{count} set(s) will be added"),n+=i("removed","{count} set(s) will be removed"),n+="</ul>",r.append(n),r.fadeIn()},error:function(e,s,i){t.prop("disabled",!1),s=e.responsehtml?"Error: "+e.responsehtml:"Error saving the translation!",$gp.notices.error(s)}})):(e("#submit").prop("disabled",!0),void e("#preview").hide())}),e("#submit").prop("disabled",!0),e("#preview").hide()});