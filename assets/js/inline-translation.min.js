!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).gpInlineTranslation=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){var debug=require("debug")("inline-translator");module.exports=function(e){var n,t,r,o={},i=[];return"function"!=typeof e?(debug("batcher expects the first argument to be a function that takes an array and a callback, got ",e),null):(t=function(){n&&window.clearTimeout(n),n=window.setTimeout(r,200)},r=function(){var t=i.slice(),r=o;n=null,o={},i=[],0!==t.length&&e(t,function(e){!function(e,n){var t,r,o,i;if(void 0!==e){for(void 0===e[0]&&(e=[e]),t=0;(r=e[t])&&void 0!==r&&void 0!==r.original;t++)if(void 0!==n[i=r.original.hash]&&n[i]){for(o=0;o<n[i].length;o++)n[i][o].resolve(r);n[i]=null,delete n[i]}for(i in n)if(n[i])for(o=0;o<n[i].length;o++)n[i][o].reject()}}(e,r)})},function(e){var n=new jQuery.Deferred;return e.hash in o?o[e.hash].push(n):(i.push(e),o[e.hash]=[n]),t(),n})}},{debug:11}],2:[function(require,module,exports){"use strict";var batcher=require("./batcher.js");module.exports=function(t,e){var r={url:"",project:"",translation_set_slug:"default"},n=batcher(function(e,n){if(!r.projects.length)return n({});s({url:r.restUrl+"/translations-by-originals",data:{projects:r.projects,translation_set_slug:r.translation_set_slug,locale_slug:t.getLocaleCode(),original_strings:JSON.stringify(e)}}).done(function(t){n(t)})});function s(t){return t=jQuery.extend({method:"POST",data:{},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",r.nonce)}},t),jQuery.ajax(t)}return{getPermalink:function(e){var n=e.getOriginal().getId(),s=r.translation_set_slug;return r.url+"projects/"+e.getGlotPressProject()+"/"+t.getLocaleCode()+"/"+s+"?filters[original_id]="+n},loadSettings:function(t){r=t},shouldLoadSuggestions:function(){return!!r.loadSuggestions},queryByOriginal:function(t){var r;return t.hash=function(t){var e="|"+t.singular,e="|"+(e=void 0!==t.context?t.context+e:e);return e=void 0!==t.domain?t.domain+e:e}(t),t.hash in e?((r=new jQuery.Deferred).resolve(e[t.hash]),r):n(t)},submitTranslation:function(e,n){return s({url:r.restUrl+"/translation",data:{project:n.getGlotPressProject(),translation_set_slug:r.translation_set_slug,locale_slug:t.getLocaleCode(),translation:e}})},getSuggestedTranslation:function(e,n){return s({url:r.restUrl+"/suggest-translation",data:Object.assign(n||{},{project:e.getGlotPressProject(),translation_set_slug:r.translation_set_slug,locale:t.getLocaleCode(),localeName:t.getLanguageName(),text:e.getOriginal().objectify()})})}}}},{"./batcher.js":1}],3:[function(require,module,exports){"use strict";var debounceTimeout,loadCSS,loadData,registerContentChangedCallback,registerDomChangedCallback,registerPopoverHandlers,findNewTranslatableTexts,glotPress,currentUserId,walker,debug=require("debug")("inline-translator"),TranslationPair=require("./translation-pair"),Walker=require("./walker"),Locale=require("./locale"),Popover=require("./popover"),GlotPress=require("./glotpress"),currentlyWalkingTheDom=!1,translationData={cssUrl:"/",currentUserId:!1,localeCode:"en",languageName:"English",pluralForms:"nplurals=2; plural=(n != 1)",contentChangedCallback:function(){}},translationUpdateCallbacks=[];function makeTranslatable(t,e){t.createPopover(e,glotPress),e.removeClass("translator-checking").addClass("translator-translatable"),t.isFullyTranslated()?(t.isTranslationWaiting()?e.removeClass("translator-translated").addClass("translator-user-translated"):e.removeClass("translator-user-translated").addClass("translator-translated"),e.each(function(){var e=this;1<e.childNodes.length||3!==e.childNodes[0].nodeType?t.getRegex().test(e.innerHTML)||(debug("Updating HTML translation",e.innerHTML,t.getRegex(),t.getRegex().test(e.innerHTML),t.getTranslation().getTextItems()[0].getText()),setTimeout(function(){e.innerHTML=t.getReplacementText(e.innerHTML)},1)):t.getRegex().test(e.textContent)||(debug("Updating text translation",e.textContent,t.getRegex(),t.getTranslation().getTextItems()[0].getText()),setTimeout(function(){e.textContent=t.getReplacementText(e.textContent)},1))})):e.addClass("translator-untranslated")}require("./jquery.webui-popover.js"),module.exports={load:function(){if(void 0===window.gpInlineTranslationData)return!1;loadCSS(),loadData(window.gpInlineTranslationData),registerPopoverHandlers(),registerContentChangedCallback(),findNewTranslatableTexts()},unload:function(){var t;debounceTimeout&&window.clearTimeout(debounceTimeout),"object"==typeof window.gpInlineTranslationData&&(window.gpInlineTranslationData.contentChangedCallback=function(){}),jQuery(document).off("submit","form.ct-existing-translation,form.ct-new-translation"),jQuery(".translator-translatable").webuiPopover("destroy"),t=["translator-checked","translator-untranslated","translator-translated","translator-user-translated","translator-untranslatable","translator-dont-translate"],jQuery("."+t.join(", .")).removeClass(t.join(" "))},registerTranslatedCallback:function(t){translationUpdateCallbacks.push(t)}},loadCSS=function(){var t;translationData.cssUrl&&((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",translationData.cssUrl),document.getElementsByTagName("head")[0].appendChild(t)),jQuery("iframe").addClass("translator-untranslatable")},loadData=function(t){(translationData="object"==typeof t&&"string"==typeof t.localeCode?t:translationData).locale=new Locale(translationData.localeCode,translationData.languageName,translationData.pluralForms),currentUserId=translationData.currentUserId,glotPress=new GlotPress(translationData.locale,translationData.translations),void 0!==translationData.glotPress?glotPress.loadSettings(translationData.glotPress):debug("Missing GlotPress settings"),TranslationPair.setTranslationData(translationData),walker=new Walker(TranslationPair,jQuery,document)},registerContentChangedCallback=function(){"object"==typeof window.gpInlineTranslationData&&(debug("Registering translator contentChangedCallback"),window.gpInlineTranslationData.contentChangedCallback=function(){debounceTimeout&&window.clearTimeout(debounceTimeout),debounceTimeout=window.setTimeout(findNewTranslatableTexts,250)},"object"==typeof window.gpInlineTranslationData.stringsUsedOnPage)&&registerDomChangedCallback()},registerDomChangedCallback=function(){function n(){var a;--t<=0||(a=document.body.innerHTML.length,e!==a&&(e=a,debounceTimeout&&window.clearTimeout(debounceTimeout),debounceTimeout=window.setTimeout(findNewTranslatableTexts,1700)),window.setTimeout(n,500))}var t=10,e=document.body.innerHTML.length;window.setTimeout(n,500)},registerPopoverHandlers=function(){jQuery(document).on("keyup","textarea.translation",function(){var e=jQuery(this).parents("form.ct-new-translation"),n=e.find("textarea"),e=e.find("button"),n=n.filter(function(){return this.value.length});e.prop("disabled",0===n.length)}),jQuery(document).on("submit","form.ct-new-translation",function(){var t=jQuery(this),e=jQuery("."+t.data("nodes")),n=t.data("translationPair"),a=t.find("textarea").map(function(){return jQuery(this).val()}).get();return!!a.every(function(t){return 0<t.trim().length})&&(e.addClass("translator-user-translated").removeClass("translator-untranslated"),0===e.children().length&&e.text(a[0]),jQuery.when(n.getOriginal().getId()).done(function(r){var l,o=jQuery.makeArray(a),s={},u="";s[r]=o,glotPress.submitTranslation(s,n).done(function(a){void 0!==a[r]&&(l=a[r][0].warnings,void 0!==a[r][0].warnings&&a[r][0].warnings?(l=JSON.parse(l)[0],jQuery.each(l,function(t,e){u+=e+"<br>"}),t.find(".warnings").html('<p class="local-inline-warning"><b>Warnings: </b>'+u+"</p>")):(t.closest(".webui-popover").hide(),n.updateAllTranslations(a[r],currentUserId),makeTranslatable(n,e),function(t){debug("Notifying string translated",t.serialize()),translationUpdateCallbacks.forEach(function(e){e(t.serialize())})}(n)))}).fail(function(){debug("Submitting new translation failed",s)})}).fail(function(){debug("Original cannot be found in GlotPress")}),!1)}),jQuery(document).on("submit","form.ct-existing-translation",function(){var e,n=jQuery(this),a=n.data("translationPair");return"object"!=typeof a?debug("could not find translation for node",n):(a=new Popover(a,translationData.locale,glotPress),e=n.closest(".webui-popover"),n.parent().empty().append(a.getTranslationHtml()).find("textarea").get(0).focus(),e.data("triggerElement").trigger("shown.webui.popover",[e])),!1}),jQuery(document).on("submit","form.copy-translation",function(){var t=jQuery(this).next().find("div.original strong");return jQuery(this).next().find("textarea").each(function(e){t[e]&&(this.focus(),this.select(),document.execCommand("insertText",!1,t[e].textContent))}),jQuery(this).next().find("textarea").first().focus().trigger("keyup"),!1})},findNewTranslatableTexts=function(){currentlyWalkingTheDom?(debounceTimeout&&window.clearTimeout(debounceTimeout),debounceTimeout=window.setTimeout(findNewTranslatableTexts,500)):(currentlyWalkingTheDom=!0,walker.walkTextNodes(document.body,function(t,e){e.addClass("translator-checking"),t.fetchOriginalAndTranslations(glotPress,currentUserId).fail(function(t,e){debug("makeUntranslatable:",e),e.removeClass("translator-untranslated translator-translated translator-translatable translator-checking"),e.addClass("translator-dont-translate"),e.attr("title","Text-Domain: "+t.getDomain())}.bind(null,t,e)).done(makeTranslatable.bind(null,t,e))},function(){currentlyWalkingTheDom=!1}))}},{"./glotpress":2,"./jquery.webui-popover.js":4,"./locale":5,"./popover":7,"./translation-pair":8,"./walker":10,debug:11}],4:[function(require,module,exports){!function(t,e,i){"use strict";function f(t,e){return isNaN(t)?e||0:Number(t)}function d(){for(var t=0;t<a.length;t++)a[t].webuiPopover("hide");g.trigger("hiddenAll."+h)}var s="webuiPopover",n="webui-popover",h="webui.popover",r={placement:"auto",width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:null},async:{before:null,success:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",animation:null,template:'<div class="webui-popover"><div class="arrow"></div><div class="webui-popover-inner"><a href="#" class="close">&times;</a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0},a=[],l=t('<div class="webui-popover-backdrop"></div>'),c=0,p=!1,g=t(i);function u(e,i){this.$element=t(e),!i||"string"!=typeof i.delay&&"number"!=typeof i.delay||(i.delay={show:i.delay,hide:i.delay}),this.options=t.extend({},r,i),this._defaults=r,this._name=s,this._targetclick=!1,this.init(),a.push(this.$element)}u.prototype={init:function(){"click"===this.getTrigger()?this.$element.off("click touchend").on("click touchend",t.proxy(this.toggle,this)):"rightclick"===this.getTrigger()?this.$element.off("contextmenu").on("contextmenu",t.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this)),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=c,this.options.backdrop&&l.appendTo(i.body).hide(),c++,"sticky"===this.getTrigger()&&this.show()},destroy:function(){for(var t=-1,e=0;e<a.length;e++)if(a[e]===this.$element){t=e;break}a.splice(t,1),this.hide(),this.$element.data("plugin_"+s,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},hide:function(e,i){var s;(e||"sticky"!==this.getTrigger())&&this._opened&&(i&&(i.preventDefault(),i.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null),e=t.Event("hide."+h),this.$element.trigger(e,[this.$target]),this.$target&&(this.$target.removeClass("in").addClass(this.getHideAnimation()),s=this,setTimeout(function(){s.$target.hide()},1)),this.options.backdrop&&l.hide(),this._opened=!1,this.$element.trigger("hidden."+h,[this.$target]),this.options.onHide)&&this.options.onHide(this.$target)},resetAutoHide:function(){var t=this,e=t.getAutoHide();e&&(t.autoHideHandler&&clearTimeout(t.autoHideHandler),t.autoHideHandler=setTimeout(function(){t.hide()},e))},toggle:function(t){t&&(t.preventDefault(),t.stopPropagation()),this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){d()},show:function(){var t=this.getTarget().removeClass().addClass(n).addClass("translator-exclude").addClass(this._customTargetClass);this.options.multi||this.hideAll(),this._opened||(this.getCache()&&this._poped&&""!==this.content||(this.content="",this.setTitle(this.getTitle()),this.options.closeable||t.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),t.show()),this.displayContent(),this.options.onShow&&this.options.onShow(t),this.bindBodyEvents(),this.options.backdrop&&l.show(),this._opened=!0,this.resetAutoHide())},displayContent:function(){var o,s=this.getElementPosition(),r=this.getTarget().removeClass().addClass(n).addClass(this._customTargetClass),a=this.getContentElement(),l=r[0].offsetWidth,c=r[0].offsetHeight,p=t.Event("show."+h),g=(this.$element.trigger(p,[r]),"auto"!==this.options.width&&r.width(this.options.width),"auto"!==this.options.height&&a.height(this.options.height),this.options.style&&this.$target.addClass(n+"-"+this.options.style),this.options.arrow||r.find(".arrow").remove(),r.detach().css({top:-2e3,left:-2e3,display:"block"}),this.getAnimation()&&r.addClass(this.getAnimation()),r.appendTo(i.body),o=this.getPlacement(s),this.$element.trigger("added."+h),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&a.css("height",a.outerHeight()),this.$target.addClass("webui-no-padding")),l=r[0].offsetWidth,c=r[0].offsetHeight,this.getTargetPositin(s,o,l,c));this.$target.css(g.position).addClass(o).addClass("in");function u(){s=d.getElementPosition(),g=d.getTargetPositin(s,o,l,c),d.$target.css(g.position).addClass(o)}var f,d=this;t(e).on("resize",function(){clearTimeout(f),f=setTimeout(u,100)}),"iframe"===this.options.type&&(p=r.find("iframe")).width(r.width()).height(p.parent().height()),this.options.arrow||this.$target.css({margin:0}),this.options.arrow&&((a=this.$target.find(".arrow")).removeAttr("style"),g.arrowOffset)&&(-1===g.arrowOffset.left||-1===g.arrowOffset.top?a.hide():a.css(g.arrowOffset)),this._poped=!0,this.$element.trigger("shown."+h,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){var e;return this.$target||(e=s+this._idSeed,this.$target=t(this.options.template).attr("id",e).data("trigger-element",this.getTriggerElement()),this._customTargetClass=this.$target.attr("class")!==n?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",e)),this.$target},getTitleElement:function(){return this.getTarget().find(".webui-popover-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find(".webui-popover-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return f(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return f(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var t=this.$element.attr("data-cache");if(void 0!==t)switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var t=this.$element.attr("data-delay-show");return void 0!==t?t:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var t=this.$element.attr("data-delay-hide");return void 0!==t?t:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var t=this.getAnimation();return t?t+"-out":"out"},setTitle:function(t){var e=this.getTitleElement();t?e.html(t):e.remove()},hasContent:function(){return this.getContent()},getContent:function(){var e;if(this.getUrl())switch(this.options.type){case"iframe":this.content=t('<iframe frameborder="0"></iframe>').attr("src",this.getUrl());break;case"html":try{this.content=t(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(t){throw new Error("Unable to get popover content. Invalid selector specified.")}}else this.content||(e="",e="function"==typeof this.options.content?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||e,this.content)||(e=this.$element.next())&&e.hasClass(n+"-content")&&(this.content=e);return this.content},setContent:function(t){var e=this.getTarget(),i=this.getContentElement();"string"==typeof t?i.html(t):t instanceof jQuery&&(t.removeClass(n+"-content"),i.html(""),t.appendTo(i)),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var i=this;this.xhr||(this.xhr=t.ajax({url:this.getUrl(),type:"GET",cache:this.getCache(),beforeSend:function(t){i.options.async.before&&i.options.async.before(i,t)},success:function(t){i.bindBodyEvents(),i.content=e&&"function"==typeof e?e.apply(i.$element[0],[t]):t,i.setContent(i.content),i.getContentElement().removeAttr("style"),i.displayContent(),i.options.async.success&&i.options.async.success(i,t)},complete:function(){i.xhr=null}}))},bindBodyEvents:function(){!this.options.dismissible||"click"!==this.getTrigger()&&"rightclick"!==this.getTrigger()||p||(g.off("keyup.webui-popover").on("keyup.webui-popover",t.proxy(this.escapeHandler,this)),g.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",t.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(){var t=this;t._timeout&&clearTimeout(t._timeout),t._enterTimeout=setTimeout(function(){t.getTarget().is(":visible")||t.show()},this.getDelayShow())},mouseleaveHandler:function(){var t=this;clearTimeout(t._enterTimeout),t._timeout=setTimeout(function(){t.hide()},this.getHideDelay())},escapeHandler:function(t){27===t.keyCode&&this.hideAll()},bodyClickHandler:function(t){for(var e=p=!0,i=0;i<a.length;i++){var o=a[i].data("plugin_"+s);if(o._opened){var n=o.getTarget().offset().left,h=o.getTarget().offset().top,r=o.getTarget().offset().left+o.getTarget().width(),o=o.getTarget().offset().top+o.getTarget().height();if(t.pageX>=n&&t.pageX<=r&&t.pageY>=h&&t.pageY<=o){e=!1;break}}}e&&d()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",t.proxy(this.hide,this,!0))},getPlacement:function(o){var n=i.documentElement,h=i.body,r=n.clientWidth,a=n.clientHeight,l=t(e).height(),c=t(e).scrollTop(),p=Math.max(h.scrollTop,n.scrollTop),h=Math.max(h.scrollLeft,n.scrollLeft),n=Math.max(0,o.left-h),h=Math.max(0,o.top-p),u="horizontal"===(p="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement),m="vertical"===p;return"auto"===p||u||m?(p=n<r/3?h<a/3?u?"right-bottom":"bottom-right":h<2*a/3?m?h<=a/2?"bottom-right":"top-right":"right":u?"right-top":"top-right":n<2*r/3?h<a/3?u?n<=r/2?"right-bottom":"left-bottom":"bottom":h<2*a/3?u?n<=r/2?"right":"left":h<=a/2?"bottom":"top":u?n<=r/2?"right-top":"left-top":"top":h<a/3?u?"left-bottom":"bottom-left":h<2*a/3?m?h<=a/2?"bottom-left":"top-left":"left":u?"left-top":"top-left",m&&(p=o.top-c>l/3*2?p.replace("bottom","top"):p.replace("top","bottom"))):"auto-top"===p?p=n<r/3?"top-right":n<2*r/3?"top":"top-left":"auto-bottom"===p?p=n<r/3?"bottom-right":n<2*r/3?"bottom":"bottom-left":"auto-left"===p?p=h<a/3?"left-top":h<2*a/3?"left":"left-bottom":"auto-right"===p&&(p=h<a/3?"right-top":h<2*a/3?"right":"right-bottom"),p},getElementPosition:function(){return t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(t,e,o,s){var n=t,t=i.documentElement,r=i.body,a=t.clientWidth,l=t.clientHeight,c=this.$element.outerWidth(),p=this.$element.outerHeight(),g=Math.max(r.scrollTop,t.scrollTop),r=Math.max(r.scrollLeft,t.scrollLeft),d={},u=null,t=this.options.arrow?20:0,v=c<10+t?t:0,b=p<10+t?t:0,$=0<n.left+n.width/2-v,C=n.left+n.width/2+v<a+r,k=0<n.top+n.height/2-b,H=n.top+n.height/2+b<l+g;switch(e){case"bottom":d={top:n.top+n.height,left:n.left+n.width/2-o/2};break;case"top":d={top:n.top-s,left:n.left+n.width/2-o/2};break;case"left":d={top:n.top+n.height/2-s/2,left:n.left-o};break;case"right":d={top:n.top+n.height/2-s/2,left:n.left+n.width};break;case"top-right":d={top:n.top-s,left:$?n.left-v:10},u={left:$?Math.min(c,o)/2+v:-2e3};break;case"top-left":d={top:n.top-s,left:n.left-o+n.width+(C?v:-10)},u={left:C?o-Math.min(c,o)/2-v:-2e3};break;case"bottom-right":d={top:n.top+n.height,left:$?n.left-v:10},u={left:$?Math.min(c,o)/2+v:-2e3};break;case"bottom-left":d={top:n.top+n.height,left:n.left-o+n.width+(C?v:-10)},u={left:C?o-Math.min(c,o)/2-v:-2e3};break;case"right-top":d={top:n.top-s+n.height+(H?b:-10),left:n.left+n.width},u={top:H?s-Math.min(p,s)/2-b:-2e3};break;case"right-bottom":d={top:k?n.top-b:10,left:n.left+n.width},u={top:k?Math.min(p,s)/2+b:-2e3};break;case"left-top":d={top:n.top-s+n.height+(H?b:-10),left:n.left-o},u={top:H?s-Math.min(p,s)/2-b:-2e3};break;case"left-bottom":d={top:k?n.top-b:10,left:n.left-o},u={top:k?Math.min(p,s)/2+b:-2e3}}return d.top+=this.getOffsetTop(),d.left+=this.getOffsetLeft(),{position:d,arrowOffset:u}}},t.fn[s]=function(e,i){var o=[],n=this.each(function(){var n=t.data(this,"plugin_"+s);n?"destroy"===e?n.destroy():"string"==typeof e&&o.push(n[e]()):(e?"string"==typeof e?"destroy"===e||i||(n=new u(this,null),o.push(n[e]())):"object"==typeof e&&(n=new u(this,e)):n=new u(this,null),t.data(this,"plugin_"+s,n))});return o.length?o:n}}(jQuery,window,document)},{}],5:[function(require,module,exports){var Jed=require("jed");module.exports=function(e,n,r){var t=Jed.PF.compile(r),r=r.match(/nplurals\=(\d+);/),o=2;return 1<r.length&&(o=r[1]),{getLocaleCode:function(){return e},getLanguageName:function(){return n},getInfo:function(){return e},getPluralCount:function(){return o},getNumbersForIndex:function(e){for(var r=[],n=0;n<1e3&&!(t(n)===e&&(r.push(n),3<=r.length));++n);return r}}}},{jed:13}],6:[function(require,module,exports){var Translation=require("./translation");module.exports=function(n){var r,t=null,i=null,o=null;function e(n,i){var o={singular:r};return t&&(o.plural=t),n&&(o.context=n),i&&(o.domain=i),o}return"string"==typeof n?r=n:t="object"==typeof n&&"string"==typeof n.singular?(r=n.singular,n.plural):(r=n[0],n[1]),void 0!==t&&""!==t||(t=null),void 0!==n.originalId&&(o=n.originalId),void 0!==n.comment&&(i=n.comment),{type:"Original",getSingular:function(){return r},getPlural:function(){return t},generateJsonHash:function(n){return"string"==typeof n&&""!==n?n+""+r:r},getEmptyTranslation:function(n){var r,i=[""];if(null!==t)for(r=1;r<n.getPluralCount();r++)i.push("");return new Translation(n,i)},objectify:e,fetchIdAndTranslations:function(n,r,t){return n.queryByOriginal(e(r,t)).done(function(n){o=n.original_id,"string"==typeof n.original_comment&&(i=n.original_comment.replace(/^translators: /,""))})},getId:function(){return o},getComment:function(){return i}}}},{"./translation":9}],7:[function(require,module,exports){var locale;function getOriginalHtml(t){var n=t.getOriginal().getPlural(),e=n?'Singular: <strong class="singular"></strong><br/>Plural:  <strong class="plural"></strong>':'<strong class="singular"></strong>';return(e=jQuery("<div>"+e)).find("strong.singular").text(t.getOriginal().getSingular()),n&&e.find("strong.plural").text(n),e}function getInputForm(t){var e,n,a=getHtmlTemplate("new-translation").clone(),i=a.find("div.original"),s=a.find("div.pair"),r=a.find("div.pairs");for(i.html(getOriginalHtml(t)),exposeOtherOriginals(a,t),t.getContext()&&a.find("p.context").text(t.getContext()).css("display","block"),t.getOriginal().getComment()&&a.find("p.comment").text(t.getOriginal().getComment()).css("display","block"),e=t.getTranslation().getTextItems(),n=0;n<e.length;n++)(s=0<n?s.eq(0).clone():s).find("p").text(e[n].getCaption()),s.find("textarea").text(e[n].getText()).attr("placeholder","Please enter a translation in "+locale.getLanguageName()),0<n&&r.append(s);return a}function exposeOtherOriginals(t,e){var n,a={};if(e.getOtherOriginals().length){for(t.find("p.other-originals").css("display","block"),a[e.getOriginal().getSingular()]=!0,n=0;n<e.getOtherOriginals().length;n++)a[e.getOtherOriginals()[n]]=!0;for(n=0;n<e.getTranslation().getTextItems().length;n++)a[e.getTranslation().getTextItems()[n].getText()]=!0;t.on("click","p.other-originals a",function(){return jQuery("#gp-show-translation-list").trigger("search",Object.keys(a).join(" || ")),!1})}}function getHtmlTemplate(t){switch(t){case"existing-translation":return jQuery('<div><form class="ct-existing-translation"><div class="original"></div><p class="context"></p><p class="comment"></p><p class="other-originals">Multiple originals match, <a href="">show them</a></p><hr /><p class="info"></p><div class="pairs"><div class="pair"><p dir="auto"><span class="type"></span><span class="translation"></span></p></div></div><button class="button button-primary">New Translation</button></form></div>');case"new-translation":return jQuery('<div><form class="copy-translation"><button class="local-copy-btn" aria-label="Copy original text"><span class="screen-reader-text">Copy</span><span aria-hidden="true" class="dashicons dashicons-admin-page"></span></button></form><form class="ct-new-translation"><div class="original"></div><p class="warnings"></p><p class="context"></p><p class="comment"></p><p class="other-originals">Multiple originals match, <a href="">show them</a></p><p class="info"></p><div class="pairs"><div class="pair"><p></p><input type="hidden" class="original" name="original[]" /><textarea dir="auto" class="translation" name="translation[]"></textarea></div></div><button disabled class="button button-primary save">Save Translation</button></form><div class="additional"></div></div>')}}module.exports=function(t,e,n){var a,i,s,r;return locale=e,a=(t.isFullyTranslated()?function(t){var e,n,a,i=getHtmlTemplate("existing-translation").clone(),s=i.find("div.original"),r=i.find("div.pair"),o=i.find("div.pairs");for(s.html(getOriginalHtml(t)),exposeOtherOriginals(i,t),t.getContext()&&i.find("p.context").text(t.getContext()).css("display","block"),t.getOriginal().getComment()&&i.find("p.comment").text(t.getOriginal().getComment()).css("display","block"),e=t.getTranslation().getTextItems(),a=0;a<e.length;a++)0<a&&(r=r.eq(0).clone()),""!==(n=e[a].getInfoText())&&r.find("span.type").text(n+": "),r.find("span.translation").text(e[a].getText()),0<a&&o.append(r);return i}:getInputForm)(t),i="translator-original-"+t.getOriginal().getId(),s=function(){return a.find("form").attr("data-nodes",i),a.find("form").data("translationPair",t),a},r=function(){return"Translate to "+locale.getLanguageName()+'<a title="View in GlotPress" href="'+n.getPermalink(t)+'" target="_blank" class="gpPermalink"><span class="dashicons dashicons-external"></span></a>'},{attachTo:function(e){e.hasClass(i)&&e.webuiPopover("destroy"),e.addClass(i).webuiPopover({title:r(),width:400,delay:0,placement:"vertical",content:function(){return jQuery("<div>").append(s())},trigger:"rightclick",translationPair:t}).on("shown.webui.popover",function(e,a){!function(t,e,n){var a,i,s,r,o,l=jQuery(t).find("textarea"),g=jQuery(t).find("div.additional");(t=l.get(0))&&(t.focus(),l.eq(0).val(),n.shouldLoadSuggestions())&&(g.html('Loading suggested translation <span class="spinner is-active" style="float: none; margin: 0 0 0 5px;"></span>'),s=function(){return n.getSuggestedTranslation(e,{prompt:g.find("textarea.prompt").val()}).done(a).error(i),g.html('Loading suggested translation <span class="spinner is-active" style="float: none; margin: 0 0 0 5px;"></span>'),!1},i=function(t){t=t.responseJSON;g.html("Error loading suggestions: "+t.message+'. <button class="requery button button-small">Retry</button>'),g.find("button.requery").css("float","left").on("click",s)},a=function(t){if(t.suggestion){for(g.html('<details><summary>Modify Query</summary><textarea class="prompt" placeholder="Add a custom prompt..."></textarea><blockquote class="unmodifyable"></blockquote> <button class="button requery">Requery</button></details><ul class="suggestions"></ul>'),r=0;r<t.suggestion.length;r++)o=jQuery('<li><button class="button button-small copy">Copy</button><span></span>'),g.find("ul.suggestions").append(o),o.find("span").text(t.suggestion[r]),o.find("button").on("click",function(){var t=l.get(0),e=jQuery(this).closest("li").find("span").text();return t.focus(),t.select(),document.execCommand("insertText",!1,e),jQuery(t).trigger("keyup"),!1});g.find("blockquote.unmodifyable").text(t.unmodifyable),g.find("textarea.prompt").val(t.prompt),g.find("button.requery").on("click",s)}else{for(r=0;r<l.length;r++)l.eq(r).prop("placeholder","Please enter your translation");g.text("")}},n.getSuggestedTranslation(e).done(a).error(i))}(a,t,n)})},getTranslationHtml:function(){return a=getInputForm(t),s()}}}},{}],8:[function(require,module,exports){var translationData,Original=require("./original"),Translation=require("./translation"),Popover=require("./popover");function TranslationPair(t,e,n,a,r,i,o){var s,l,g,c,u=[],d=!1;function p(e){var n,a,r,i;for(u=[],n=0;n<e.length;n++){for(i=[],a=0;r=e[n]["translation_"+a];a++)i.push(r);!function(e){"object"==typeof e&&"Translation"===e.type||(e=new Translation(t,e.slice())),g.getTextItems().length===e.getTextItems().length&&(u.push(e),g=e)}(i=new Translation(t,i.slice(),e[n]))}}function h(t){var e;for(s=null,u.length<=1||u.sort(function(t,e){return e.getComparableDate()-t.getComparableDate()}),e=0;e<u.length;e++){if(u[e].getUserId()===t&&u[e].getStatus())return g=u[e];u[e].isCurrent()&&(g=u[e])}}return"object"==typeof e&&"Original"===e.type||(e=new Original(e)),"object"==typeof r?("Translation"!==r.type&&(r=new Translation(t,r)),u.push(r)):r=e.getEmptyTranslation(t),g=r,{type:"TranslationPair",createPopover:function(e,n){new Popover(this,t,n).attachTo(e)},isFullyTranslated:function(){return g.isFullyTranslated()},isTranslationWaiting:function(){return g.isWaiting()},getOriginal:function(){return e},getOtherOriginals:function(){return void 0===o?[]:o},getContext:function(){return n},getLocale:function(){return t},getDomain:function(){return a},getScreenText:function(){return d},getReplacementText:function(t){var e=this.getTranslation().getTextItems()[0].getText(),n=0,a=[],r=new RegExp("^\\s*"+this.getOriginalRegexString()+"\\s*$");return r.test(t)?a=t.match(r):i&&i.test(t)&&(a=t.match(i)),e.replace(/%(?:(\d)\$)?[sd]/g,function(){return++n,a[void 0===arguments[1]?n:Number(arguments[1])]})},getOriginalRegex:function(){var t;return void 0!==l&&l?l:(t=this.getOriginalRegexString(),i&&(t+="|"+i.source.substr(4,i.source.length-8)),l=new RegExp("^\\s*"+t+"\\s*$"))},getOriginalRegexString:function(){var t=getRegexString(e.getSingular());return e.getPlural()&&(t+="|"+getRegexString(e.getSingular())),t},getRegex:function(){return void 0!==s&&s?s:(s=g.getTextItems().map(function(t){return getRegexString(t.getText())}).join("|"),s=new RegExp("^\\s*"+s+"\\s*$"))},setScreenText:function(t){d=t},getTranslation:function(){return g},setGlotPressProject:function(t){return c=t},getGlotPressProject:function(){return c},updateAllTranslations:function(t,e){p(t),void 0!==e&&h(e)},serialize:function(){return{singular:e.getSingular(),plural:e.getPlural(),context:n,domain:a,translations:g.serialize(),key:e.generateJsonHash(n)}},fetchOriginalAndTranslations:function(t,r){return e.fetchIdAndTranslations(t,n,a).done(function(t){void 0!==t.translations&&(p(t.translations),h(r),void 0!==t.project)&&(t=t.project,c=t)})}}}function getRegexString(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/%([0-9]\\*\$)?s/g,"(.{0,500}?)").replace(/%([0-9]\\*\$)?d/g,"([0-9]{0,15}?)").replace(/%%/g,"%")}function extractFromDataElement(t){var n,a={singular:t.data("singular")};return t.data("plural")&&(a.plural=t.data("plural")),t.data("context")&&(a.context=t.data("context")),t.data("domain")&&(a.domain=t.data("domain")),t.data("original-id")&&(a.originalId=t.data("original-id")),t.data("translation")&&(n=t.data("translation")),(a=new TranslationPair(translationData.locale,a,a.context,a.domain,n)).setScreenText(t.text()),t.data("project")&&a.setGlotPressProject(t.data("project")),a}function trim(t){return void 0===t?"":t.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"")}function anyChildMatches(t,e){var n,a;if((e="string"==typeof e?new RegExp(e):e)instanceof RegExp)for(a=t.children(),n=0;n<a.length;n++)if(e.test(a[n].innerHTML)||e.test(a[n].textContent))return!0;return!1}function findMatchingTranslation(t,e,n,a){var r,o,l,i,c={};for(r in t)t.hasOwnProperty(r)&&(l=t[r],translationData.translations[r+"|"+l])&&(c[r]=l);for(r in c=0===Object.keys(c).length?t:c)if(c.hasOwnProperty(r)&&(l=c[r],o=(i=r.split("|")).shift(),i=i.shift(),!e||i===e))return delete c[r],(i=new TranslationPair(translationData.locale,l,i,o,n,a,Object.values(c))).setScreenText(n),i;return null}function getTranslationPairForTextUsedOnPage(t,e){var n,a,r,i,o=!1;if(1===t.get().length&&1===t.get(0).childNodes.length){if(!(a=trim(t.get(0).textContent)).length||3e3<a.length)return!1;if(void 0!==translationData.stringsUsedOnPage[a]&&(n=findMatchingTranslation(translationData.stringsUsedOnPage[a],e,a,new RegExp("^\\s*"+getRegexString(a)+"\\s*$"))))return n}for(r=t.html(),i=0;i<translationData.placeholdersUsedOnPage.length;i++)if((o=translationData.placeholdersUsedOnPage[i]).regex.test(r)){if(anyChildMatches(t,o.regex))continue;if(n=findMatchingTranslation(o.originals,e,r,o.regex))return n}return!1}TranslationPair.extractFrom=function(t){return"object"==typeof translationData&&(t.is("data.translatable")?extractFromDataElement(t):t.closest("data.translatable").length?extractFromDataElement(t.closest("data.translatable")):function(t){var e,n;return"object"==typeof translationData.stringsUsedOnPage&&!t.is("style,script")&&!t.closest("#querylist").length&&(e=t.is("[data-i18n-context]")?t.data("i18n-context"):!!(e=t.closest("[data-i18n-context]")).length&&e.data("i18n-context"),n=!1===(n=getTranslationPairForTextUsedOnPage(t,e))&&void 0!==trim((t=t.clone(!0)).find("*").remove().end().text())?getTranslationPairForTextUsedOnPage(t,e):n)}(t))},TranslationPair.setTranslationData=function(t){var e,n,a=[];if("object"==typeof(translationData=t).placeholdersUsedOnPage)for(e in translationData.placeholdersUsedOnPage)n=translationData.placeholdersUsedOnPage[e],a.push({originals:n,regex:new RegExp("^\\s*"+e+"\\s*$")});translationData.placeholdersUsedOnPage=a},TranslationPair._test={anyChildMatches:anyChildMatches},module.exports=TranslationPair},{"./original":6,"./popover":7,"./translation":9}],9:[function(require,module,exports){module.exports=function(t,n,e){var r,u,i,o,s,a,d=0;if("object"==typeof e&&("undefined"!==e.status&&(i=e.status),"undefined"!==e.translation_id&&(a=e.translation_id),"undefined"!==e.user_id&&(o=e.user_id),"undefined"!==e.date_added)&&(s=e.date_added),"string"!=typeof i&&(i="current"),isNaN(a)&&(a=!1),isNaN(o)&&(o=!1),s&&(a=(e=s.split("-"))[2].substr(3).split(":"),d=new Date(e[0],e[1]-1,e[2].substr(0,2),a[0],a[1],a[2])),r=function(e,r){return{isTranslated:function(){return 0<r.length},getCaption:function(){var r;return 1===n.length?"":2===n.length?0===e?"Singular":"Plural":(r=t.getNumbersForIndex(e)).length?"For numbers like: "+r.join(", "):""},getInfoText:function(){var e;return 1===n.length?"":2===n.length?0===u?"Singular":"Plural":(e=t.getNumbersForIndex(u)).length?e.join(", "):""},getText:function(){return r}}},"object"!=typeof n||"number"!=typeof n.length)return!1;for(u=0;u<n.length;u++)n[u]=new r(u,n[u]);return{type:"Translation",isFullyTranslated:function(){for(u=0;u<n.length;u++)if(!1===n[u].isTranslated())return!1;return!0},isCurrent:function(){return"current"===i},isWaiting:function(){return"waiting"===i||"fuzzy"===i},getStatus:function(){return i},getDate:function(){return s},getComparableDate:function(){return d},getUserId:function(){return Number(o)},getTextItems:function(){return n},serialize:function(){var t=[];for(u=0;u<n.length;u++)t.push(n[u].getText());return t}}}},{}],10:[function(require,module,exports){function acceptableNode(e){return null===e.parentElement||["SCRIPT","STYLE","BODY","HTML"].includes(e.parentElement.nodeName)||e.parentElement.classList.contains("translator-checked")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}module.exports=function(e,t,n){return{walkTextNodes:function(o,r,a){var l,c,d=!0,s=5;if("object"==typeof n)for(;d;){for(l=(c=n.createTreeWalker(o,NodeFilter.SHOW_TEXT,acceptableNode)).currentNode,d=!1;l;)acceptableNode(l),NodeFilter.FILTER_REJECT,i(l),d=!0,l=c.nextNode();if(--s<0)break}else t(o).find("*").contents().filter(function(){return 3===this.nodeType&&acceptableNode(this)===NodeFilter.FILTER_ACCEPT}).each(function(){i(this)});function i(n){var o;["SCRIPT","STYLE","BODY","HTML"].includes(n.parentElement.nodeName)||((n=t(n.parentElement)).addClass("translator-checked"),n.closest(".webui-popover").length)||n.hasClass("translator-exclude")||n.closest(".translator-exclude").length||(!1===(o=e.extractFrom(n))?n.addClass("translator-dont-translate"):"function"==typeof r&&r(o,n))}"function"==typeof a&&a()}}}},{}],11:[function(require,module,exports){!function(process){!function(){exports.formatArgs=function(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{"%%"!==match&&(index++,"%c"===match)&&(lastC=index)}),args.splice(lastC,0,c)}},exports.save=function(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function(){let r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function(){try{return localStorage}catch(error){}}(),exports.destroy=(()=>{let warned=!1;return()=>{warned||(warned=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.log=console.debug||console.log||(()=>{}),module.exports=require("./common")(exports);var formatters=module.exports["formatters"];formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}.call(this)}.call(this,require("_process"))},{"./common":12,_process:15}],12:[function(require,module,exports){module.exports=function(env){function createDebug(namespace){let prevTime,enableOverride=null,namespacesCache,enabledCache;function debug(...args){if(debug.enabled){const self=debug;var curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if("%%"===match)return"%";index++;var val,format=createDebug.formatters[format];return"function"==typeof format&&(val=args[index],match=format.call(self,val),args.splice(index,1),index--),match}),createDebug.formatArgs.call(self,args),(self.log||createDebug.log).apply(self,args)}}return debug.namespace=namespace,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(namespace),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==enableOverride?enableOverride:(namespacesCache!==createDebug.namespaces&&(namespacesCache=createDebug.namespaces,enabledCache=createDebug.enabled(namespace)),enabledCache),set:v=>{enableOverride=v}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(namespace,delimiter){delimiter=createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace);return delimiter.log=this.log,delimiter}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}return((createDebug.debug=createDebug).default=createDebug).coerce=function(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function(){var namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces},createDebug.enable=function(namespaces){createDebug.save(namespaces),createDebug.namespaces=namespaces,createDebug.names=[],createDebug.skips=[];let i;var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.slice(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")))},createDebug.enabled=function(name){if("*"===name[name.length-1])return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=require("ms"),createDebug.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(env).forEach(key=>{createDebug[key]=env[key]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug}},{ms:14}],13:[function(require,module,exports){var root=this;function Jed(options){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=_.extend({},this.defaults,options),this.textdomain(this.options.domain),options.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+options.domain+"`")}var ArrayProto=Array.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,hasOwnProp=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,breaker={},_={forEach:function(obj,iterator,context){var i,l,key;if(null!==obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(key in obj)if(hasOwnProp.call(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return},extend:function(obj){return this.forEach(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj}};function getPluralFormFunc(plural_form_string){return Jed.PF.compile(plural_form_string||"nplurals=2; plural=(n != 1);")}function Chain(key,i18n){this._key=key,this._i18n=i18n}Jed.context_delimiter=String.fromCharCode(4),_.extend(Chain.prototype,{onDomain:function(domain){return this._domain=domain,this},withContext:function(context){return this._context=context,this},ifPlural:function(num,pkey){return this._val=num,this._pkey=pkey,this},fetch:function(sArr){return((sArr="[object Array]"!={}.toString.call(sArr)?[].slice.call(arguments,0):sArr)&&sArr.length?Jed.sprintf:function(x){return x})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),sArr)}}),_.extend(Jed.prototype,{translate:function(key){return new Chain(key,this)},textdomain:function(domain){if(!domain)return this._textdomain;this._textdomain=domain},gettext:function(key){return this.dcnpgettext.call(this,void 0,void 0,key)},dgettext:function(domain,key){return this.dcnpgettext.call(this,domain,void 0,key)},dcgettext:function(domain,key){return this.dcnpgettext.call(this,domain,void 0,key)},ngettext:function(skey,pkey,val){return this.dcnpgettext.call(this,void 0,void 0,skey,pkey,val)},dngettext:function(domain,skey,pkey,val){return this.dcnpgettext.call(this,domain,void 0,skey,pkey,val)},dcngettext:function(domain,skey,pkey,val){return this.dcnpgettext.call(this,domain,void 0,skey,pkey,val)},pgettext:function(context,key){return this.dcnpgettext.call(this,void 0,context,key)},dpgettext:function(domain,context,key){return this.dcnpgettext.call(this,domain,context,key)},dcpgettext:function(domain,context,key){return this.dcnpgettext.call(this,domain,context,key)},npgettext:function(context,skey,pkey,val){return this.dcnpgettext.call(this,void 0,context,skey,pkey,val)},dnpgettext:function(domain,context,skey,pkey,val){return this.dcnpgettext.call(this,domain,context,skey,pkey,val)},dcnpgettext:function(domain,context,singular_key,plural_key,val){if(plural_key=plural_key||singular_key,domain=domain||this._textdomain,!this.options)return(fallback=new Jed).dcnpgettext.call(fallback,void 0,void 0,singular_key,plural_key,val);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[domain])throw new Error("Domain `"+domain+"` was not found.");if(!this.options.locale_data[domain][""])throw new Error("No locale meta information provided.");if(!singular_key)throw new Error("No translation key found.");var res,val_idx,fallback=context?context+Jed.context_delimiter+singular_key:singular_key,context=this.options.locale_data,dict=context[domain],context=(context.messages||this.defaults.locale_data.messages)[""],context=dict[""].plural_forms||dict[""]["Plural-Forms"]||dict[""]["plural-forms"]||context.plural_forms||context["Plural-Forms"]||context["plural-forms"];if(void 0===val)val_idx=0;else{if("number"!=typeof val&&(val=parseInt(val,10),isNaN(val)))throw new Error("The number that was passed in is not a number.");val_idx=getPluralFormFunc(context)(val)}if(dict)return!(dict=dict[fallback])||val_idx>dict.length?(this.options.missing_key_callback&&this.options.missing_key_callback(fallback,domain),res=[singular_key,plural_key],!0===this.options.debug&&console.log(res[getPluralFormFunc(context)(val)]),res[getPluralFormFunc()(val)]):(res=dict[val_idx])||(res=[singular_key,plural_key])[getPluralFormFunc()(val)];throw new Error("No domain named `"+domain+"` could be found.")}}),str_format.format=function(parse_tree,argv){for(var arg,k,match,node_type,pad_length,cursor=1,tree_length=parse_tree.length,output=[],i=0;i<tree_length;i++)if("string"===(node_type=get_type(parse_tree[i])))output.push(parse_tree[i]);else if("array"===node_type){if((match=parse_tree[i])[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw sprintf('[sprintf] property "%s" does not exist',match[2][k]);arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if(/[^s]/.test(match[8])&&"number"!=get_type(arg))throw sprintf("[sprintf] expecting number but found %s",get_type(arg));switch(null==arg&&(arg=""),match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}arg=/[def]/.test(match[8])&&match[3]&&0<=arg?"+"+arg:arg,node_type=match[4]?"0"==match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-String(arg).length,node_type=match[6]?function(input,multiplier){for(var output=[];0<multiplier;output[--multiplier]=input);return output.join("")}(node_type,pad_length):"",output.push(match[5]?arg+node_type:node_type+arg)}return output.join("")},str_format.cache={},str_format.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=/^[^\x25]+/.exec(_fmt)))parse_tree.push(match[0]);else if(null!==(match=/^\x25{2}/.exec(_fmt)))parse_tree.push("%");else{if(null===(match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)))throw"[sprintf] huh?";if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field)))throw"[sprintf] huh?";for(field_list.push(field_match[1]);""!==(replacement_field=replacement_field.substring(field_match[0].length));){if(null===(field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field))&&null===(field_match=/^\[(\d+)\]/.exec(replacement_field)))throw"[sprintf] huh?";field_list.push(field_match[1])}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";parse_tree.push(match)}_fmt=_fmt.substring(match[0].length)}return parse_tree};var sprintf=str_format;function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_format(){return str_format.cache.hasOwnProperty(arguments[0])||(str_format.cache[arguments[0]]=str_format.parse(arguments[0])),str_format.format.call(null,str_format.cache[arguments[0]],arguments)}Jed.parse_plural=function(plural_forms,n){return plural_forms=plural_forms.replace(/n/g,n),Jed.parse_expression(plural_forms)},Jed.sprintf=function(fmt,args){return"[object Array]"=={}.toString.call(args)?function(fmt,argv){return argv.unshift(fmt),sprintf.apply(null,argv)}(fmt,[].slice.call(args)):sprintf.apply(this,[].slice.call(arguments))},Jed.prototype.sprintf=function(){return Jed.sprintf.apply(this,arguments)},(Jed.PF={}).parse=function(p){p=Jed.PF.extractPluralExpr(p);return Jed.PF.parser.parse.call(Jed.PF.parser,p)},Jed.PF.compile=function(p){var ast=Jed.PF.parse(p);return function(n){return!0===(n=Jed.PF.interpreter(ast)(n))?1:n||0}},Jed.PF.interpreter=function(ast){return function(n){switch(ast.type){case"GROUP":return Jed.PF.interpreter(ast.expr)(n);case"TERNARY":return Jed.PF.interpreter(ast.expr)(n)?Jed.PF.interpreter(ast.truthy)(n):Jed.PF.interpreter(ast.falsey)(n);case"OR":return Jed.PF.interpreter(ast.left)(n)||Jed.PF.interpreter(ast.right)(n);case"AND":return Jed.PF.interpreter(ast.left)(n)&&Jed.PF.interpreter(ast.right)(n);case"LT":return Jed.PF.interpreter(ast.left)(n)<Jed.PF.interpreter(ast.right)(n);case"GT":return Jed.PF.interpreter(ast.left)(n)>Jed.PF.interpreter(ast.right)(n);case"LTE":return Jed.PF.interpreter(ast.left)(n)<=Jed.PF.interpreter(ast.right)(n);case"GTE":return Jed.PF.interpreter(ast.left)(n)>=Jed.PF.interpreter(ast.right)(n);case"EQ":return Jed.PF.interpreter(ast.left)(n)==Jed.PF.interpreter(ast.right)(n);case"NEQ":return Jed.PF.interpreter(ast.left)(n)!=Jed.PF.interpreter(ast.right)(n);case"MOD":return Jed.PF.interpreter(ast.left)(n)%Jed.PF.interpreter(ast.right)(n);case"VAR":return n;case"NUM":return ast.val;default:throw new Error("Invalid Token found.")}}},Jed.PF.extractPluralExpr=function(p){p=p.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var nplurals_re=/nplurals\=(\d+);/,nplurals_matches=(p=/;\s*$/.test(p)?p:p.concat(";")).match(nplurals_re);if(!(1<nplurals_matches.length))throw new Error("nplurals not found in plural_forms string: "+p);if(nplurals_matches[1],(nplurals_matches=(p=p.replace(nplurals_re,"")).match(/plural\=(.*);/))&&1<nplurals_matches.length)return nplurals_matches[1];throw new Error("`plural` expression not found: "+p)},Jed.PF.parser=(ObjProto=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parseError)throw new Error(str);this.yy.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.match+=ch,this.matched+=ch,ch.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),ch},unput:function(ch){return this._input=ch+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var match,lines,rules=this._currentRules(),i=0;i<rules.length;i++)if(match=this._input.match(this.rules[rules[i]]))return(lines=match[0].match(/\n.*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],this.performAction.call(this,this.yy,this,rules[i],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return void 0!==r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};return lexer}(),(ArrayProto={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return{type:"GROUP",expr:$$[$0-1]};case 2:this.$={type:"TERNARY",expr:$$[$0-4],truthy:$$[$0-2],falsey:$$[$0]};break;case 3:this.$={type:"OR",left:$$[$0-2],right:$$[$0]};break;case 4:this.$={type:"AND",left:$$[$0-2],right:$$[$0]};break;case 5:this.$={type:"LT",left:$$[$0-2],right:$$[$0]};break;case 6:this.$={type:"LTE",left:$$[$0-2],right:$$[$0]};break;case 7:this.$={type:"GT",left:$$[$0-2],right:$$[$0]};break;case 8:this.$={type:"GTE",left:$$[$0-2],right:$$[$0]};break;case 9:this.$={type:"NEQ",left:$$[$0-2],right:$$[$0]};break;case 10:this.$={type:"EQ",left:$$[$0-2],right:$$[$0]};break;case 11:this.$={type:"MOD",left:$$[$0-2],right:$$[$0]};break;case 12:this.$={type:"GROUP",expr:$$[$0-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(yytext)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(str,hash){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,yyloc=(this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc);function lex(){var token=self.lexer.lex()||1;return token="number"!=typeof token?self.symbols_[token]||token:token}lstack.push(yyloc),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,p,len,r,expected,n,yyval={};;){if(state=stack[stack.length-1],void 0===(action=this.defaultActions[state]||(null==symbol&&(symbol=lex()),table[state]&&table[state][symbol]))||!action.length||!action[0]){if(!recovering){for(p in expected=[],table[state])this.terminals_[p]&&2<p&&expected.push("'"+this.terminals_[p]+"'");var errStr="",errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(3==recovering){if(1==symbol)throw new Error(errStr||"Parsing halted.");yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,symbol=lex()}for(;;){if(2..toString()in table[state])break;if(0==state)throw new Error(errStr||"Parsing halted.");n=1,stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n,state=stack[stack.length-1]}preErrorSymbol=symbol,symbol=2,action=table[state=stack[stack.length-1]]&&table[state][2],recovering=3}if(action[0]instanceof Array&&1<action.length)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,0<recovering&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},void 0!==(r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack)))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),r=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(r);break;case 3:return!0}}return!0}}).lexer=ObjProto,ArrayProto),void 0!==exports?(exports=void 0!==module&&module.exports?module.exports=Jed:exports).Jed=Jed:root.Jed=Jed},{}],14:[function(require,module,exports){var s=1e3,m=6e4,h=36e5,d=24*h;function plural(ms,msAbs,n,name){msAbs=1.5*n<=msAbs;return Math.round(ms/n)+" "+name+(msAbs?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"==type&&0<val.length)return function(str){if(!(100<(str=String(str)).length)){str=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(str){var n=parseFloat(str[1]);switch((str[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(val);if("number"==type&&isFinite(val))return(options.long?function(ms){var msAbs=Math.abs(ms);if(d<=msAbs)return plural(ms,msAbs,d,"day");if(h<=msAbs)return plural(ms,msAbs,h,"hour");if(m<=msAbs)return plural(ms,msAbs,m,"minute");if(s<=msAbs)return plural(ms,msAbs,s,"second");return ms+" ms"}:function(ms){var msAbs=Math.abs(ms);if(d<=msAbs)return Math.round(ms/d)+"d";if(h<=msAbs)return Math.round(ms/h)+"h";if(m<=msAbs)return Math.round(ms/m)+"m";if(s<=msAbs)return Math.round(ms/s)+"s";return ms+"ms"})(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},{}],15:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,module=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return(cachedSetTimeout=setTimeout)(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length)&&drainQueue()}function drainQueue(){if(!draining){for(var timeout=runTimeout(cleanUpNextTick),len=(draining=!0,queue.length);len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,!function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return(cachedClearTimeout=clearTimeout)(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}module.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},module.title="browser",module.browser=!0,module.env={},module.argv=[],module.version="",module.versions={},module.on=noop,module.addListener=noop,module.once=noop,module.off=noop,module.removeListener=noop,module.removeAllListeners=noop,module.emit=noop,module.prependListener=noop,module.prependOnceListener=noop,module.listeners=function(name){return[]},module.binding=function(name){throw new Error("process.binding is not supported")},module.cwd=function(){return"/"},module.chdir=function(dir){throw new Error("process.chdir is not supported")},module.umask=function(){return 0}},{}]},{},[3])(3)});
