jQuery(function(o){var e,i,r=o(".bulk-action"),n=o(".bulk-priority"),s=!1;$gp.showhide("#upper-filters-toolbar a.sort","#upper-filters-toolbar .filters-expanded.sort",{show_text:$gp_translations_options.sort+" &darr;",hide_text:$gp_translations_options.sort+" &uarr;",focus:"#sort\\[by\\]\\[original_date_added\\]"}),$gp.showhide("#upper-filters-toolbar a.filter","#upper-filters-toolbar .filters-expanded.filters",{show_text:$gp_translations_options.filter+" &darr;",hide_text:$gp_translations_options.filter+" &uarr;",focus:"#filters\\[term\\]"}),r.on("change",function(){var t=o("option:selected",this);r.val(t.val()),"set-priority"===t.val()?n.removeClass("hidden"):n.addClass("hidden")}),o("form.bulk-actions").submit(function(){var t=o("input:checked",o("table#translations th.checkbox")).map(function(){return o(this).parents("tr.preview").attr("row")}).get().join(",");o('input[name="bulk[row-ids]"]',o(this)).val(t)}),e=o("#filter-status-fields").find("input:checkbox"),i=o("#filter-status-selected"),o("#filter-status-select-all").on("click",function(){e.prop("checked",!0).trigger("change")}),e.on("change",function(){var t=e.filter(":checked").map(function(){return o(this).val()}).get();t.length?i.val(t.join("_or_")):i.val("current_or_waiting_or_fuzzy_or_untranslated")}),o("a#export").click(function(){var t,e=o("#export-format").val(),i="";return i="filtered"===o("#what-to-export").val()?(t=-1===o(this).attr("filters").indexOf("?")?"?":"&",o(this).attr("filters")+t+"format="+e):o(this).attr("href")+"?format="+e,window.location=i,!1}),o("tbody").children().children(".checkbox").find(":checkbox").click(function(t){var e,i,r;if("undefined"===t.shiftKey)return!0;if(t.shiftKey){if(!s)return!0;i=(e=o(s).closest("table").find(":checkbox")).index(s),t=e.index(this),r=o(this).prop("checked"),0<i&&0<t&&i!==t&&(i<t?e.slice(i,t):e.slice(t,i)).prop("checked",function(){return!!o(this).closest("tr").is(":visible")&&r})}return s=this,!0}),o("thead, tfoot").find(".checkbox :checkbox").click(function(t){var e=o(this).prop("checked"),i="undefined"!=typeof toggleWithKeyboard&&toggleWithKeyboard,r=t.shiftKey||i;o(this).closest("table").children("tbody").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){return!o(this).closest("tr").is(":hidden")&&(r?o(this).prop("checked"):!!e)}),o(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){return!r&&!!e})})});