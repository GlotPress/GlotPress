!function(o){o(function(){if(!o("#translator-launcher").length||"object"!=typeof gpInlineTranslation)return!1;function n(){!1!==gpInlineTranslation.load()&&t(!0)}function t(n){document.cookie=n?"autoinlinetranslation=1;path=/":"autoinlinetranslation=;expires=Sat,%201%20Jan%202000%2000:00:00%20GMT;path=/"}function e(){return o('input[name="gp_enable_inline_translation"]').prop("checked")||document.cookie.match(/autoinlinetranslation=1/)}e()&&o("#inline-translation-switch").prop("checked",!0),o(document.body).on("click","#translator-launcher",function(){o("#translator-pop-out").toggle()}),o(document.body).on("change","#inline-translation-switch",function(){o(this).prop("checked")?n():(gpInlineTranslation.unload(),t(!1))}),o(document.body).on("click","#gp-show-translation-list",function(){o("#translator-pop-out").hide(),o("#gp-inline-translation-list").toggle(),o("#gp-inline-search").focus()}),o(document.body).on("search","#gp-show-translation-list",function(n,t){o(this).trigger("click"),o("#gp-inline-search").val(t).trigger("keyup")}),o(document.body).on("click","#gp-inline-translation-list",function(n){n=o(n.target).attr("id");n&&"gp-inline-translation-list"===n&&o("#gp-inline-translation-list").hide()}),o(document.body).on("keyup",function(n){27===n.keyCode&&o("#gp-inline-translation-list").hide()}),o(document.body).on("keyup","#gp-inline-search",function(){var t,e=o(this).val().toLowerCase().split(" || ").map(function(n){return n.trim()}),i=e.length;o("#gp-inline-translation-list li").each(function(){var n=o(this).text();for(t=0;t<i;t++)if(0<=n.toLowerCase().indexOf(e[t]))return void o(this).show();o(this).hide()})}),o(document.body).on("change","#inline-jump-next-switch",function(){o(this).prop("checked")?document.cookie="inlinejumptonext=1;path=/":document.cookie="inlinejumptonext=;expires=Sat,%201%20Jan%202000%2000:00:00%20GMT;path=/"}),document.cookie.match(/inlinejumptonext=1/)&&o("#inline-jump-next-switch").prop("checked",!0),jQuery(document.body).tooltip({items:".glossary-word",content:function(){var i=o('<ul class="translator-exclude">');return o.each(o(this).data("translations"),function(n,t){var e=o("<li>");t.locale_entry&&e.append(o("<span>",{text:t.locale_entry}).addClass("locale-entry bubble")),e.append(o("<span>",{text:t.pos}).addClass("pos")),e.append(o("<span>",{text:t.translation}).addClass("translation")),e.append(o("<span>",{text:t.comment}).addClass("comment")),i.append(e)}),i},hide:!1,show:!1}),o(document.body).on("click","a.inline-placeholder",function(){var n=o(this).text();return o(this).parent().prev("textarea").focus(),document.execCommand("insertText",null,n),!1}),function n(t){if(void 0===window.gpInlineTranslation)return void window.setTimeout(function(){n(t)},100);t()}(function(){o("#translator-launcher").show(),e()&&n()})})}(jQuery);